@startuml
'https://plantuml.com/component-diagram

package "Home" {
    package "HomeTcp" {
        [home_tcp_listener]
        [home_tcp_connections]
        [home_tcp_commands]
    }
    package "HomeRequestHandler" {
        [home_tcp_connections_link] ..> [home_tcp_connections]
        [home_tcp_commands_link] ..> [home_tcp_commands]
    }
}

[home_tcp_listener] ---> [home_tcp_connections]: register device
[home_tcp_listener] ---> [home_tcp_commands]: request is\na command
[home_tcp_commands] ---> [HomeRequestHandler]: apply command

package "Socket" {
    package "SocketTcp" {
        [socket_tcp_listener]
        [socket_tcp_connections]
        [socket_tcp_commands]
    }
    [SocketRequestHandler]
}

[socket_tcp_listener] ---> [socket_tcp_connections]: register\nsubdevice
[socket_tcp_listener] ---> [socket_tcp_commands]: request is\na command
[socket_tcp_commands] ---> [SocketRequestHandler]: apply command

[HomeRequestHandler] ---> [Socket]: send command\nto the device
[SocketRequestHandler] ---> [Home]: send info\nto the home

'package "Some Group" {
'  HTTP - [First Component]
'  [Another Component]
'}
'
'node "Other Groups" {
'  FTP - [Second Component]
'  [First Component] --> FTP
'}
'
'cloud {
'  [Example 1]
'}
'
'
'database "MySql" {
'  folder "This is my folder" {
'    [Folder 3]
'  }
'  frame "Foo" {
'    [Frame 4]
'  }
'}


'[Another Component] --> [Example 1]
'[Example 1] --> [Folder 3]
'[Folder 3] --> [Frame 4]

@enduml